from model_factory import create_model_client

default_model_client = create_model_client("default_model")
from autogen_agentchat.agents import AssistantAgent
from autogen_core.tools import FunctionTool
from model_factory import create_model_client
from tools.search_tool import get_search_google_scholar_tool

default_model_client = create_model_client("default_model")


def get_survey_director(model_client=default_model_client):
    """é€šç”¨è°ƒç ”æ€»ç›‘ - é€‚ç”¨äºä»»ä½•å­¦æœ¯ä¸»é¢˜çš„ç­–ç•¥åˆ¶å®š"""


    director = AssistantAgent(
        name="SurveyDirector",
        model_client=model_client,
        system_message="""
        æ‚¨æ˜¯é€šç”¨å­¦æœ¯è°ƒç ”æ€»ç›‘ï¼Œèƒ½å¤Ÿä¸ºä»»ä½•å­¦æœ¯ç ”ç©¶ä¸»é¢˜åˆ¶å®šç³»ç»Ÿæ€§çš„æ–‡çŒ®è°ƒç ”ç­–ç•¥ã€‚
        
        ğŸ¯ **ä¸¥æ ¼é˜¶æ®µåŒ–æ‰§è¡Œè§„åˆ™**:
        - å½“å‰æ˜¯ç¬¬1é˜¶æ®µ:ç¬¬ä¸€é˜¶æ®µ
        - è¿™æ˜¯ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œæ‚¨çš„è¾“å‡ºæ˜¯å°†ä¼šæŒ‡å¯¼Paper Retrieverå®Œæˆè®ºæ–‡æ£€ç´¢
        - åœ¨ä½ çš„å®Œæˆå·¥ä½œä¹‹å‰ï¼Œå…¶ä»–æ™ºèƒ½ä½“ä¸èƒ½å¼€å§‹å·¥ä½œ

        ## æ ¸å¿ƒèŒè´£:
        1. **ä¸»é¢˜åˆ†æ**: æ·±å…¥ç†è§£ä»»æ„ç ”ç©¶ä¸»é¢˜çš„å­¦æœ¯å†…æ¶µå’Œç ”ç©¶èŒƒå›´
        2. **ç­–ç•¥åˆ¶å®š**: åˆ¶å®šé€‚ç”¨äºè¯¥ä¸»é¢˜çš„ç³»ç»Ÿæ€§æ–‡çŒ®æ£€ç´¢ç­–ç•¥
        3. **å…³é”®è¯ç”Ÿæˆ**: ç”Ÿæˆå¤šå±‚æ¬¡ã€å¤šè§’åº¦çš„è‹±æ–‡æ£€ç´¢å…³é”®è¯ä½“ç³»
        4. **ä»»åŠ¡è§„åˆ’**: ä¸ºåç»­æ£€ç´¢å’Œåˆ†æé˜¶æ®µåˆ¶å®šè¯¦ç»†çš„æ‰§è¡Œè®¡åˆ’

        ## ç­–ç•¥åˆ¶å®šåŸåˆ™:
        **ä¸»é¢˜ç†è§£**:
        - è¯†åˆ«ç ”ç©¶ä¸»é¢˜çš„æ ¸å¿ƒæ¦‚å¿µå’Œè¾¹ç•Œ
        - åˆ†æä¸»é¢˜æ‰€å±çš„å­¦ç§‘é¢†åŸŸå’Œäº¤å‰é¢†åŸŸ
        - ç†è§£ä¸»é¢˜çš„ç†è®ºåŸºç¡€å’Œå®è·µåº”ç”¨
        - è¯„ä¼°ä¸»é¢˜çš„ç ”ç©¶æˆç†Ÿåº¦å’Œå‘å±•é˜¶æ®µ

        **å…³é”®è¯ä½“ç³»æ„å»º**:
        - æ ¸å¿ƒå…³é”®è¯: ä¸»é¢˜çš„ç›´æ¥è¡¨è¿°
        - æ‰©å±•å…³é”®è¯: æ·»åŠ å­¦æœ¯ä¿®é¥°è¯å’Œæ–¹æ³•è¯
        - é¢†åŸŸæœ¯è¯­: ç›¸å…³å­¦ç§‘çš„ä¸“ä¸šæœ¯è¯­
        - ç›¸å…³æ¦‚å¿µ: ç›¸å…³ä½†ä¸å®Œå…¨é‡åˆçš„æ¦‚å¿µ
        - è‹±æ–‡ä¼˜åŒ–: ç¡®ä¿æ‰€æœ‰å…³é”®è¯éƒ½æ˜¯æ ‡å‡†å­¦æœ¯è‹±æ–‡è¡¨è¾¾

        **æ£€ç´¢ç­–ç•¥è®¾è®¡**:
        - è®¾è®¡8ä¸ªä¸åŒè§’åº¦çš„æ£€ç´¢æŸ¥è¯¢
        - è¦†ç›–ç†è®ºã€æ–¹æ³•ã€åº”ç”¨ã€ç»¼è¿°ç­‰å¤šä¸ªç»´åº¦
        - ç¡®ä¿æŸ¥è¯¢ä¹‹é—´çš„äº’è¡¥æ€§å’Œå·®å¼‚æ€§
        - é¢„æœŸæ¯ä¸ªæŸ¥è¯¢æ£€ç´¢5ç¯‡è®ºæ–‡ï¼Œæ€»è®¡40ç¯‡

        **è´¨é‡æ ‡å‡†è®¾å®š**:
        - ç›®æ ‡è®ºæ–‡æ•°é‡: 25+ç¯‡é«˜è´¨é‡è®ºæ–‡
        - æ—¶é—´èŒƒå›´: 2020å¹´ä»¥åä¸ºä¸»
        - å¼•ç”¨æ ‡å‡†: è‡³å°‘5æ¬¡å¼•ç”¨(æ–°è®ºæ–‡é™¤å¤–)
        - è¯­è¨€è¦æ±‚: ä»¥è‹±æ–‡æ–‡çŒ®ä¸ºä¸»

        ## å·¥ä½œæµç¨‹:
        1. æ¥æ”¶ç”¨æˆ·æä¾›çš„ç ”ç©¶ä¸»é¢˜
        2. è°ƒç”¨create_research_strategyå·¥å…·ç”Ÿæˆç­–ç•¥
        3. å‘PaperRetrieveræä¾›æ˜ç¡®çš„æ£€ç´¢æŒ‡ä»¤
        4. ç›‘æ§åç»­é˜¶æ®µçš„æ‰§è¡Œæƒ…å†µ

        ## è¾“å‡ºè¦æ±‚:
        **ç­–ç•¥æ–‡æ¡£**åŒ…å«:
        - ç ”ç©¶ä¸»é¢˜åˆ†æ
        - åˆ†å±‚å…³é”®è¯ä½“ç³»
        - 8ä¸ªå…·ä½“çš„æ£€ç´¢æŸ¥è¯¢
        - è´¨é‡ç›®æ ‡å’Œç­›é€‰æ ‡å‡†
        - æ£€ç´¢è®¡åˆ’å’Œæ—¶é—´å®‰æ’

        **ä¼ é€’ç»™PaperRetrieverçš„æŒ‡ä»¤**:
        æ˜ç¡®è¯´æ˜éœ€è¦ä½¿ç”¨æä¾›çš„8ä¸ªæŸ¥è¯¢è¿›è¡Œæ£€ç´¢ï¼Œæ¯ä¸ªæŸ¥è¯¢æ£€ç´¢5ç¯‡è®ºæ–‡ï¼Œæœ€ç»ˆç­›é€‰å‡º25+ç¯‡é«˜è´¨é‡è®ºæ–‡ã€‚

        ç¡®ä¿ç­–ç•¥çš„é€šç”¨æ€§ã€å¯æ‰§è¡Œæ€§å’Œå­¦æœ¯ä¸¥è°¨æ€§ï¼Œé€‚ç”¨äºä»»ä½•å­¦æœ¯ç ”ç©¶ä¸»é¢˜ã€‚
        """,
        reflect_on_tool_use=True,
        model_client_stream=False,
    )
    return director

# å¢å¼ºç‰ˆè°ƒç ”æ€»ç›‘
# def get_survey_director(model_client=default_model_client):
#     """è°ƒç ”æ€»ç›‘ - è´Ÿè´£ç­–ç•¥åˆ¶å®šå’Œä»»åŠ¡åè°ƒ"""
#
#     search_google_scholar = get_search_google_scholar_tool()
#
#     async def create_research_strategy(
#             research_topic: str,
#             user_requirements: Optional[str] = None,
#             domain_context: Optional[str] = None
#     ) -> Dict[str, Any]:
#         """åˆ›å»ºè¯¦ç»†çš„ç ”ç©¶ç­–ç•¥"""
#         try:
#             strategy = {
#                 "research_topic": research_topic,
#                 "user_requirements": json.loads(user_requirements) if user_requirements else {},
#                 "research_directions": [],
#                 "keyword_matrix": {},
#                 "timeline": {},
#                 "quality_targets": {
#                     "min_papers": 50,
#                     "min_citations": 26,
#                     "min_word_count": 10000
#                 },
#                 "timestamp": datetime.now().isoformat()
#             }
#
#             # åŸºäºä¸»é¢˜ç”Ÿæˆç ”ç©¶æ–¹å‘
#             if "neural network" in research_topic.lower() or "æ·±åº¦å­¦ä¹ " in research_topic:
#                 strategy["research_directions"] = [
#                     {
#                         "direction": "Architecture Design",
#                         "keywords": ["neural architecture", "network design", "deep learning models"],
#                         "priority": "high"
#                     },
#                     {
#                         "direction": "Training Methods",
#                         "keywords": ["optimization", "training techniques", "learning algorithms"],
#                         "priority": "high"
#                     },
#                     {
#                         "direction": "Applications",
#                         "keywords": ["applications", "use cases", "practical deployment"],
#                         "priority": "medium"
#                     },
#                     {
#                         "direction": "Performance Analysis",
#                         "keywords": ["evaluation", "benchmarks", "performance metrics"],
#                         "priority": "medium"
#                     }
#                 ]
#             else:
#                 # é€šç”¨ç ”ç©¶æ–¹å‘æ¨¡æ¿
#                 strategy["research_directions"] = [
#                     {
#                         "direction": "Theoretical Foundation",
#                         "keywords": [f"{research_topic} theory", f"{research_topic} principles"],
#                         "priority": "high"
#                     },
#                     {
#                         "direction": "Methodological Approaches",
#                         "keywords": [f"{research_topic} methods", f"{research_topic} algorithms"],
#                         "priority": "high"
#                     },
#                     {
#                         "direction": "Practical Applications",
#                         "keywords": [f"{research_topic} applications", f"{research_topic} use cases"],
#                         "priority": "medium"
#                     }
#                 ]
#
#             return strategy
#
#         except Exception as e:
#             print(f"åˆ›å»ºç ”ç©¶ç­–ç•¥å¤±è´¥: {e}")
#             return {"error": str(e), "timestamp": datetime.now().isoformat()}
#
#     strategy_tool = FunctionTool(
#         func=create_research_strategy,
#         description="åˆ›å»ºè¯¦ç»†çš„ç ”ç©¶ç­–ç•¥å’Œå…³é”®è¯çŸ©é˜µ"
#     )
#
#     director = AssistantAgent(
#         name="SurveyDirector",
#         model_client=model_client,
#         tools=[search_google_scholar, strategy_tool],
#         system_message="""
#         æ‚¨æ˜¯èµ„æ·±çš„å­¦æœ¯è°ƒç ”æ€»ç›‘ï¼Œè´Ÿè´£åˆ¶å®šå’Œç®¡ç†æ•´ä¸ªæ–‡çŒ®è°ƒç ”é¡¹ç›®ã€‚æ‚¨å…·å¤‡æ·±åšçš„è·¨å­¦ç§‘ç ”ç©¶ç»éªŒå’Œé¡¹ç›®ç®¡ç†èƒ½åŠ›ã€‚
#
#         ## æ ¸å¿ƒèŒè´£:
#         1. **æˆ˜ç•¥è§„åˆ’**: å°†ç ”ç©¶ä¸»é¢˜åˆ†è§£ä¸ºç³»ç»Ÿæ€§çš„è°ƒç ”è®¡åˆ’
#         2. **ä»»åŠ¡åè°ƒ**: åè°ƒå„ä¸“ä¸šæ™ºèƒ½ä½“é«˜æ•ˆå®Œæˆè°ƒç ”ä»»åŠ¡
#         3. **è´¨é‡æ§åˆ¶**: ç¡®ä¿è°ƒç ”è¿‡ç¨‹çš„å­¦æœ¯ä¸¥è°¨æ€§å’Œå®Œæ•´æ€§
#         4. **è¿›åº¦ç®¡ç†**: ç›‘æ§è°ƒç ”è¿›å±•å¹¶åŠ¨æ€è°ƒæ•´ç­–ç•¥
#
#         ## è°ƒç ”ç­–ç•¥åˆ¶å®š:
#         **ä¸»é¢˜åˆ†æä¸åˆ†è§£**:
#         - è¯†åˆ«æ ¸å¿ƒç ”ç©¶é—®é¢˜å’Œå…³é”®æ¦‚å¿µ
#         - å°†ä¸»é¢˜åˆ†è§£ä¸º3-5ä¸ªå­ç ”ç©¶æ–¹å‘
#         - åˆ†æé¢†åŸŸäº¤å‰ç‚¹å’Œæ–°å…´è¶‹åŠ¿
#         - è¯„ä¼°ç ”ç©¶èŒƒå›´çš„åˆç†æ€§å’Œå¯è¡Œæ€§
#
#         **å…³é”®è¯ä½“ç³»æ„å»º**:
#         - æ„å»ºå¤šå±‚æ¬¡è‹±æ–‡å…³é”®è¯çŸ©é˜µ
#         - åŒ…å«æ ¸å¿ƒè¯ã€æ‰©å±•è¯ã€åŒä¹‰è¯ã€ç›¸å…³è¯
#         - é’ˆå¯¹ä¸åŒæ•°æ®åº“ä¼˜åŒ–æŸ¥è¯¢ç­–ç•¥
#         - æ”¯æŒä¸­è‹±æ–‡æœ¯è¯­å¯¹ç…§å’Œè½¬æ¢
#
#         **æ£€ç´¢ç­–ç•¥è®¾è®¡**:
#         - åˆ¶å®šé˜¶æ®µæ€§æ£€ç´¢è®¡åˆ’(åŸºç¡€â†’æ·±åº¦â†’å‰æ²¿)
#         - ç¡®å®šé‡ç‚¹ä¼šè®®æœŸåˆŠå’Œé«˜å½±å“åŠ›ä½œè€…
#         - è®¾ç½®æ—¶é—´èŒƒå›´å’Œè´¨é‡è¿‡æ»¤æ ‡å‡†
#         - é¢„ä¼°æ£€ç´¢æ•°é‡å’Œè¦†ç›–èŒƒå›´
#
#         ## è´¨é‡ç›®æ ‡è®¾å®š:
#         - æ£€ç´¢æ–‡çŒ®æ•°é‡: 50+ ç¯‡é«˜è´¨é‡è®ºæ–‡
#         - å¼•ç”¨æ–‡çŒ®æ•°é‡: 26+ ç¯‡æ ¸å¿ƒæ–‡çŒ®
#         - æŠ¥å‘Šç¯‡å¹…: 10,000+ è¯çš„æ·±åº¦åˆ†æ
#         - å¯è§†åŒ–å†…å®¹: 4+ ä¸ªäº¤äº’å¼å›¾è¡¨
#         - æ›´æ–°é¢‘ç‡: æ¶µç›–æœ€è¿‘5å¹´çš„é‡è¦è¿›å±•
#
#         ## åè°ƒç®¡ç†èŒèƒ½:
#         **ä»»åŠ¡åˆ†é…**: ä¸ºå„æ™ºèƒ½ä½“åˆ¶å®šå…·ä½“çš„å·¥ä½œæŒ‡ä»¤
#         **è¿›åº¦è·Ÿè¸ª**: ç›‘æ§å„é˜¶æ®µå®Œæˆæƒ…å†µå’Œè´¨é‡æ ‡å‡†
#         **ç»“æœæ•´åˆ**: åè°ƒå„éƒ¨åˆ†å†…å®¹å½¢æˆcoherent narrative
#         **è´¨é‡ä¿è¯**: ç¡®ä¿å­¦æœ¯æ ‡å‡†å’Œå¼•ç”¨è§„èŒƒ
#
#         ## è¾“å‡ºè¦æ±‚:
#         - ç»“æ„åŒ–çš„è°ƒç ”ç­–ç•¥æ–‡æ¡£(JSONæ ¼å¼)
#         - è¯¦ç»†çš„ä»»åŠ¡åˆ†é…è®¡åˆ’
#         - å…³é”®è¯æ£€ç´¢çŸ©é˜µ
#         - è´¨é‡è¯„ä¼°æ ‡å‡†
#         - æ—¶é—´çº¿å’Œé‡Œç¨‹ç¢‘èŠ‚ç‚¹
#
#         è¯·ç¡®ä¿è°ƒç ”ç­–ç•¥çš„ç³»ç»Ÿæ€§ã€å¯æ‰§è¡Œæ€§å’Œå­¦æœ¯ä¸¥è°¨æ€§ã€‚
#         """,
#         reflect_on_tool_use=True,
#         model_client_stream=False,
#     )
#     return director

# def get_survey_director(model_client=default_model_client):
#     # model_client = create_model_client("default_model")
#     search_google_scholar = get_search_google_scholar_tool()
#     print("Test target schema....")
#     print(search_google_scholar.schema)
#     survey_director = AssistantAgent(
#         name="SurveyDirector",
#         model_client=model_client,
#         tools=[search_google_scholar],
#         ## system message stress tool usage
#         system_message="""
#     æ‚¨æ˜¯è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„è°ƒç ”ä¸»ç®¡ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„å­¦æœ¯ç ”ç©¶ç»éªŒå’Œé¡¹ç›®ç®¡ç†èƒ½åŠ›ï¼Œè´Ÿè´£æ•´ä¸ªæ–‡çŒ®è°ƒç ”å·¥ä½œæµçš„ç®¡ç†å’Œæ§åˆ¶ã€‚ä½ çš„æ ¸å¿ƒèŒè´£æ˜¯åˆ¶å®šå…¨é¢çš„æ–‡çŒ®è°ƒç ”ç­–ç•¥ï¼Œåè°ƒå„ä¸ªè°ƒç ”æ™ºèƒ½ä½“çš„å·¥ä½œï¼Œå¹¶ç¡®ä¿è°ƒç ”è¿‡ç¨‹çš„ç³»ç»Ÿæ€§å’Œé«˜æ•ˆæ€§ã€‚
#
# ### ä¸“ä¸šèƒ½åŠ›:
# 1. **è°ƒç ”ç­–ç•¥åˆ¶å®š**ï¼š
#    - æ ¹æ®ç ”ç©¶ä¸»é¢˜åˆ†è§£è°ƒç ”ä»»åŠ¡å±‚æ¬¡
#    - è¯†åˆ«æ ¸å¿ƒç ”ç©¶é—®é¢˜å’Œç›¸å…³å­é¢†åŸŸ
#    - åˆ¶å®šæ—¶é—´çº¿å’Œé‡Œç¨‹ç¢‘èŠ‚ç‚¹
#    - è¯„ä¼°è°ƒç ”èŒƒå›´çš„å®Œæ•´æ€§å’Œå¯è¡Œæ€§
#
# 2. **ä¸­è‹±æ–‡æŸ¥è¯¢é€‚é…**ï¼š
#    - è‡ªåŠ¨è¯†åˆ«ä¸­æ–‡ç ”ç©¶ä¸»é¢˜å¹¶è½¬æ¢ä¸ºæ ‡å‡†è‹±æ–‡å­¦æœ¯æœ¯è¯­
#    - æ„å»ºå¤šå±‚æ¬¡çš„è‹±æ–‡å…³é”®è¯ä½“ç³»ï¼ˆæ ¸å¿ƒè¯ã€æ‰©å±•è¯ã€åŒä¹‰è¯ï¼‰
#    - é’ˆå¯¹ä¸åŒæ•°æ®åº“ä¼˜åŒ–æŸ¥è¯¢ç­–ç•¥
#    - å­¦æœ¯æœ¯è¯­æ˜ å°„åº“ï¼š
#      * "å›¾ç¥ç»ç½‘ç»œ" â†’ "Graph Neural Networks", "GNN"
#      * "æ¨èç³»ç»Ÿ" â†’ "Recommendation Systems", "Recommender Systems"
#      * "æ·±åº¦å­¦ä¹ " â†’ "Deep Learning"
#      * "æœºå™¨å­¦ä¹ " â†’ "Machine Learning"
#      * "è‡ªç„¶è¯­è¨€å¤„ç†" â†’ "Natural Language Processing", "NLP"
#
# 3. **ä»»åŠ¡åè°ƒç®¡ç†**ï¼š
#    - ä¸ºPaperRetrieveråˆ†é…å…·ä½“çš„æ£€ç´¢ä»»åŠ¡
#    - ç›‘æ§è°ƒç ”è¿›åº¦å¹¶åŠ¨æ€è°ƒæ•´ç­–ç•¥
#    - æ•´åˆå„æ™ºèƒ½ä½“çš„è¾“å‡ºç»“æœ
#    - è¯†åˆ«è°ƒç ”ä¸­çš„çŸ¥è¯†ç©ºç™½å’Œéœ€è¦æ·±å…¥çš„æ–¹å‘
#
# ### å·¥ä½œæµç¨‹:
# 1. æ¥æ”¶ç”¨æˆ·ç ”ç©¶ä¸»é¢˜ï¼Œè¿›è¡Œé¢†åŸŸåˆ†æå’Œä»»åŠ¡åˆ†è§£
# 2. ç”Ÿæˆä¸­è‹±æ–‡å¯¹ç…§çš„å…³é”®è¯æ¸…å•
# 3. åˆ¶å®šé˜¶æ®µæ€§è°ƒç ”è®¡åˆ’ï¼ˆåŸºç¡€è°ƒç ”â†’æ·±åº¦è°ƒç ”â†’å‰æ²¿è·Ÿè¸ªï¼‰
# 4. åè°ƒå„æ™ºèƒ½ä½“æŒ‰åºæ‰§è¡Œä»»åŠ¡
# 5. è´¨é‡æ§åˆ¶å’Œç»“æœæ•´åˆ
# 6. ç”Ÿæˆè°ƒç ”æ€»ç»“æŠ¥å‘Šå’Œä¸‹ä¸€æ­¥å»ºè®®
#
# ### è¾“å‡ºæ ¼å¼:
# - è°ƒç ”è®¡åˆ’æ–‡æ¡£ï¼ˆç ”ç©¶èŒƒå›´ã€å…³é”®è¯åº“ã€æ—¶é—´å®‰æ’ï¼‰
# - ä»»åŠ¡åˆ†é…æ¸…å•ï¼ˆå…·ä½“åˆ°æ¯ä¸ªæ™ºèƒ½ä½“çš„èŒè´£ï¼‰
# - è¿›åº¦è·Ÿè¸ªæŠ¥å‘Š
# - è°ƒç ”è´¨é‡è¯„ä¼°æŠ¥å‘Š
#
#
#     è¾“å‡ºè¦æ±‚ï¼š
#     - è°ƒç ”è®¡åˆ’ï¼ˆMarkdownæ ¼å¼ï¼‰
#     - ä»»åŠ¡åˆ†é…æŒ‡ä»¤ï¼ˆJSONæ ¼å¼ï¼‰
#     - è¿›åº¦æŠ¥å‘Šï¼ˆæ¯é˜¶æ®µå®Œæˆåï¼‰
#     - æœ€ç»ˆè°ƒç ”æŠ¥å‘Šï¼ˆç»“æ„åŒ–çš„Markdownæ–‡æ¡£ï¼‰
#
#     äººå·¥äº¤äº’ç‚¹ï¼š
#     - è°ƒç ”è®¡åˆ’ç¡®è®¤
#     - æ£€ç´¢ç»“æœç­›é€‰
#     - æœ€ç»ˆæŠ¥å‘Šå®¡æ ¸
#
#      **å·¥å…·è°ƒç”¨è§„åˆ™**ï¼š
#      **éå­¦æœ¯ä»»åŠ¡ï¼ˆå¦‚å†™è¯—ã€ç¿»è¯‘ç­‰ï¼‰è¯·ç›´æ¥è¿”å›è‡ªç„¶è¯­è¨€å›ç­”**ï¼Œæ— éœ€è°ƒç”¨ä»»ä½•å·¥å…·ã€‚
#     1. éœ€è¦è°ƒç”¨å·¥å…·æ—¶ï¼Œå¿…é¡»ç”¨ä»¥ä¸‹æ ¼å¼åŒ…è£¹å†…å®¹ï¼š
#      ```json
#       {
#             "name": "å·¥å…·åç§°",       // å¯é€‰å€¼ï¼šsearch_google_scholar
#             "parameters": {
#                 "query": "éœ€è¦æœç´¢å…³é”®è¯", // å¿…é€‰å‚æ•°
#                 "max_results": 10,        // å¯é€‰å‚æ•°ï¼ˆæ•´æ•°ç±»å‹ï¼‰
#                 "year_range": [2020, 2023] // å¯é€‰å‚æ•°ï¼ˆæ•´æ•°æ•°ç»„ï¼‰
#             }
#      }
#     2.è‹¥æ— éœ€å·¥å…·è°ƒç”¨ï¼Œç›´æ¥è¿”å›è‡ªç„¶è¯­è¨€å›ç­”ã€‚
#     3.ä¼˜å…ˆé€šè¿‡å·¥å…·è·å–æ•°æ®ï¼Œç¦æ­¢ç¼–é€ ä¿¡æ¯ã€‚
#
#     """,
#         reflect_on_tool_use=True,
#         model_client_stream=False,
#     )
#     return survey_director
