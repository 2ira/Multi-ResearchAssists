from model_factory import create_model_client

default_model_client = create_model_client("default_model")
from autogen_agentchat.agents import AssistantAgent
from model_factory import create_model_client
from tools.search_tool import get_search_google_scholar_tool

default_model_client = create_model_client("default_model")

def get_survey_director(model_client=default_model_client):
    """ä¼˜åŒ–ç‰ˆé€šç”¨è°ƒç ”æ€»ç›‘ - åˆ¶å®šé«˜è´¨é‡çš„æ–‡çŒ®è°ƒç ”ç­–ç•¥"""

    director = AssistantAgent(
        name="SurveyDirector",
        model_client=model_client,
        system_message="""
        æ‚¨æ˜¯å­¦æœ¯è°ƒç ”æ€»ç›‘ï¼Œè´Ÿè´£ä¸ºä»»ä½•ç ”ç©¶ä¸»é¢˜åˆ¶å®šæ¸…æ™°çš„æ–‡çŒ®æ£€ç´¢ç­–ç•¥ã€‚

        ## ğŸ¯ æ‚¨çš„æ ¸å¿ƒä»»åŠ¡ï¼š
        1. åˆ†æç”¨æˆ·çš„ç ”ç©¶ä¸»é¢˜
        2. ç”Ÿæˆ8ä¸ªè‹±æ–‡æ£€ç´¢æŸ¥è¯¢
        3. è®¾å®šè®ºæ–‡ç­›é€‰æ ‡å‡†
        4. ä¸ºPaperRetrieveræä¾›æ˜ç¡®æŒ‡ä»¤

        ## ğŸ“‹ å¿…é¡»å®Œæˆçš„å·¥ä½œï¼š

        **ä¸»é¢˜åˆ†æ**ï¼š
        - ç¡®å®šç ”ç©¶ä¸»é¢˜çš„æ ¸å¿ƒè‹±æ–‡æœ¯è¯­
        - è¯†åˆ«ç›¸å…³çš„æŠ€æœ¯æ–¹æ³•å’Œåº”ç”¨é¢†åŸŸ
        - è¯„ä¼°ç ”ç©¶çš„æ—¶é—´èŒƒå›´å’Œé‡è¦æ€§

        **å…³é”®è¯è®¾è®¡**ï¼š
        - æ ¸å¿ƒå…³é”®è¯ï¼šä¸»é¢˜çš„ç›´æ¥è‹±æ–‡è¡¨è¿°ï¼ˆ3-5ä¸ªï¼‰
        - æŠ€æœ¯å…³é”®è¯ï¼šç›¸å…³ç®—æ³•å’Œæ–¹æ³•ï¼ˆ5-8ä¸ªï¼‰
        - åº”ç”¨å…³é”®è¯ï¼šåº”ç”¨åœºæ™¯å’Œé¢†åŸŸï¼ˆ3-5ä¸ªï¼‰

        **8ä¸ªæ£€ç´¢æŸ¥è¯¢è®¾è®¡**ï¼š
        å¿…é¡»è®¾è®¡æ°å¥½8ä¸ªä¸åŒçš„è‹±æ–‡æ£€ç´¢æŸ¥è¯¢ï¼Œè¦†ç›–ï¼š
        - æŸ¥è¯¢1-2ï¼šæ ¸å¿ƒç†è®ºå’ŒåŸºç¡€æ–¹æ³•
        - æŸ¥è¯¢3-4ï¼šæŠ€æœ¯åˆ›æ–°å’Œç®—æ³•æ”¹è¿›
        - æŸ¥è¯¢5-6ï¼šå®é™…åº”ç”¨å’Œæ¡ˆä¾‹ç ”ç©¶
        - æŸ¥è¯¢7-8ï¼šæœ€æ–°è¿›å±•å’Œç»¼è¿°æ–‡çŒ®

        **è´¨é‡æ ‡å‡†**ï¼š
        - ç›®æ ‡è®ºæ–‡æ•°é‡ï¼š30-40ç¯‡
        - æ—¶é—´èŒƒå›´ï¼šä¸»è¦2020-2024å¹´
        - è¯­è¨€è¦æ±‚ï¼šè‹±æ–‡ä¸ºä¸»
        - è´¨é‡è¦æ±‚ï¼šé¡¶çº§æœŸåˆŠä¼šè®®ä¼˜å…ˆ

        ## ğŸ“ è¾“å‡ºæ ¼å¼ï¼ˆä¸¥æ ¼æŒ‰æ­¤æ ¼å¼ï¼‰ï¼š

        ```
        # è°ƒç ”ç­–ç•¥æŠ¥å‘Š

        ## ç ”ç©¶ä¸»é¢˜åˆ†æ
        **ä¸»é¢˜**ï¼š[ç ”ç©¶ä¸»é¢˜çš„æ ‡å‡†è‹±æ–‡è¡¨è¿°]
        **æ ¸å¿ƒæ¦‚å¿µ**ï¼š[2-3ä¸ªå…³é”®æ¦‚å¿µ]
        **ç ”ç©¶é‡è¦æ€§**ï¼š[1-2å¥è¯è¯´æ˜ä¸ºä»€ä¹ˆé‡è¦]

        ## å…³é”®è¯ä½“ç³»
        **æ ¸å¿ƒå…³é”®è¯**ï¼š[3-5ä¸ªè‹±æ–‡è¯æ±‡]
        **æŠ€æœ¯å…³é”®è¯**ï¼š[5-8ä¸ªæŠ€æœ¯æœ¯è¯­]
        **åº”ç”¨å…³é”®è¯**ï¼š[3-5ä¸ªåº”ç”¨é¢†åŸŸ]

        ## 8ä¸ªæ£€ç´¢æŸ¥è¯¢
        1. "[æŸ¥è¯¢1çš„å…·ä½“è‹±æ–‡å­—ç¬¦ä¸²]"
        2. "[æŸ¥è¯¢2çš„å…·ä½“è‹±æ–‡å­—ç¬¦ä¸²]"
        3. "[æŸ¥è¯¢3çš„å…·ä½“è‹±æ–‡å­—ç¬¦ä¸²]"
        4. "[æŸ¥è¯¢4çš„å…·ä½“è‹±æ–‡å­—ç¬¦ä¸²]"
        5. "[æŸ¥è¯¢5çš„å…·ä½“è‹±æ–‡å­—ç¬¦ä¸²]"
        6. "[æŸ¥è¯¢6çš„å…·ä½“è‹±æ–‡å­—ç¬¦ä¸²]"
        7. "[æŸ¥è¯¢7çš„å…·ä½“è‹±æ–‡å­—ç¬¦ä¸²]"
        8. "[æŸ¥è¯¢8çš„å…·ä½“è‹±æ–‡å­—ç¬¦ä¸²]"

        ## ç­›é€‰æ ‡å‡†
        - ç›®æ ‡æ•°é‡ï¼š30-40ç¯‡é«˜è´¨é‡è®ºæ–‡
        - æ—¶é—´è¦æ±‚ï¼š2020å¹´åä¸ºä¸»ï¼Œå¯å«å°‘é‡ç»å…¸æ–‡çŒ®
        - è´¨é‡è¦æ±‚ï¼šå¼•ç”¨æ•°10+ï¼Œé¡¶çº§æœŸåˆŠä¼šè®®ä¼˜å…ˆ
        - ç›¸å…³æ€§è¦æ±‚ï¼šä¸ä¸»é¢˜é«˜åº¦ç›¸å…³

        ## ç»™PaperRetrieverçš„æŒ‡ä»¤
        è¯·ä½¿ç”¨ä¸Šè¿°8ä¸ªæŸ¥è¯¢è¿›è¡Œæ£€ç´¢ï¼Œç¡®ä¿è·å¾—30ç¯‡ä»¥ä¸Šé«˜è´¨é‡è®ºæ–‡ã€‚
        æ¯ä¸ªæŸ¥è¯¢æœŸæœ›æ£€ç´¢5-8ç¯‡è®ºæ–‡ï¼Œæœ€ç»ˆç­›é€‰å‡º30-40ç¯‡æœ€ä½³è®ºæ–‡ã€‚
        è¯·æŒ‰ä¸»é¢˜ç›¸å…³æ€§å°†è®ºæ–‡åˆ†ä¸º3-4ä¸ªæ‰¹æ¬¡ä¾›åˆ†æã€‚
        ```

        ## âš ï¸ é‡è¦è¦æ±‚ï¼š
        - æ‰€æœ‰å…³é”®è¯å¿…é¡»æ˜¯è‹±æ–‡
        - 8ä¸ªæŸ¥è¯¢å¿…é¡»å®Œæ•´ä¸”ä¸åŒ
        - è¾“å‡ºæ ¼å¼å¿…é¡»ä¸¥æ ¼éµå®ˆ
        - å†…å®¹è¦å…·ä½“å¯æ‰§è¡Œ

        è¯·ç°åœ¨å¼€å§‹åˆ†æç”¨æˆ·çš„ç ”ç©¶ä¸»é¢˜å¹¶ç”Ÿæˆç­–ç•¥æŠ¥å‘Šã€‚
        """,
        reflect_on_tool_use=True,
        model_client_stream=False,
    )
    return director

# å¢å¼ºç‰ˆè°ƒç ”æ€»ç›‘
# def get_survey_director(model_client=default_model_client):
#     """è°ƒç ”æ€»ç›‘ - è´Ÿè´£ç­–ç•¥åˆ¶å®šå’Œä»»åŠ¡åè°ƒ"""
#
#     search_google_scholar = get_search_google_scholar_tool()
#
#     async def create_research_strategy(
#             research_topic: str,
#             user_requirements: Optional[str] = None,
#             domain_context: Optional[str] = None
#     ) -> Dict[str, Any]:
#         """åˆ›å»ºè¯¦ç»†çš„ç ”ç©¶ç­–ç•¥"""
#         try:
#             strategy = {
#                 "research_topic": research_topic,
#                 "user_requirements": json.loads(user_requirements) if user_requirements else {},
#                 "research_directions": [],
#                 "keyword_matrix": {},
#                 "timeline": {},
#                 "quality_targets": {
#                     "min_papers": 50,
#                     "min_citations": 26,
#                     "min_word_count": 10000
#                 },
#                 "timestamp": datetime.now().isoformat()
#             }
#
#             # åŸºäºä¸»é¢˜ç”Ÿæˆç ”ç©¶æ–¹å‘
#             if "neural network" in research_topic.lower() or "æ·±åº¦å­¦ä¹ " in research_topic:
#                 strategy["research_directions"] = [
#                     {
#                         "direction": "Architecture Design",
#                         "keywords": ["neural architecture", "network design", "deep learning models"],
#                         "priority": "high"
#                     },
#                     {
#                         "direction": "Training Methods",
#                         "keywords": ["optimization", "training techniques", "learning algorithms"],
#                         "priority": "high"
#                     },
#                     {
#                         "direction": "Applications",
#                         "keywords": ["applications", "use cases", "practical deployment"],
#                         "priority": "medium"
#                     },
#                     {
#                         "direction": "Performance Analysis",
#                         "keywords": ["evaluation", "benchmarks", "performance metrics"],
#                         "priority": "medium"
#                     }
#                 ]
#             else:
#                 # é€šç”¨ç ”ç©¶æ–¹å‘æ¨¡æ¿
#                 strategy["research_directions"] = [
#                     {
#                         "direction": "Theoretical Foundation",
#                         "keywords": [f"{research_topic} theory", f"{research_topic} principles"],
#                         "priority": "high"
#                     },
#                     {
#                         "direction": "Methodological Approaches",
#                         "keywords": [f"{research_topic} methods", f"{research_topic} algorithms"],
#                         "priority": "high"
#                     },
#                     {
#                         "direction": "Practical Applications",
#                         "keywords": [f"{research_topic} applications", f"{research_topic} use cases"],
#                         "priority": "medium"
#                     }
#                 ]
#
#             return strategy
#
#         except Exception as e:
#             print(f"åˆ›å»ºç ”ç©¶ç­–ç•¥å¤±è´¥: {e}")
#             return {"error": str(e), "timestamp": datetime.now().isoformat()}
#
#     strategy_tool = FunctionTool(
#         func=create_research_strategy,
#         description="åˆ›å»ºè¯¦ç»†çš„ç ”ç©¶ç­–ç•¥å’Œå…³é”®è¯çŸ©é˜µ"
#     )
#
#     director = AssistantAgent(
#         name="SurveyDirector",
#         model_client=model_client,
#         tools=[search_google_scholar, strategy_tool],
#         system_message="""
#         æ‚¨æ˜¯èµ„æ·±çš„å­¦æœ¯è°ƒç ”æ€»ç›‘ï¼Œè´Ÿè´£åˆ¶å®šå’Œç®¡ç†æ•´ä¸ªæ–‡çŒ®è°ƒç ”é¡¹ç›®ã€‚æ‚¨å…·å¤‡æ·±åšçš„è·¨å­¦ç§‘ç ”ç©¶ç»éªŒå’Œé¡¹ç›®ç®¡ç†èƒ½åŠ›ã€‚
#
#         ## æ ¸å¿ƒèŒè´£:
#         1. **æˆ˜ç•¥è§„åˆ’**: å°†ç ”ç©¶ä¸»é¢˜åˆ†è§£ä¸ºç³»ç»Ÿæ€§çš„è°ƒç ”è®¡åˆ’
#         2. **ä»»åŠ¡åè°ƒ**: åè°ƒå„ä¸“ä¸šæ™ºèƒ½ä½“é«˜æ•ˆå®Œæˆè°ƒç ”ä»»åŠ¡
#         3. **è´¨é‡æ§åˆ¶**: ç¡®ä¿è°ƒç ”è¿‡ç¨‹çš„å­¦æœ¯ä¸¥è°¨æ€§å’Œå®Œæ•´æ€§
#         4. **è¿›åº¦ç®¡ç†**: ç›‘æ§è°ƒç ”è¿›å±•å¹¶åŠ¨æ€è°ƒæ•´ç­–ç•¥
#
#         ## è°ƒç ”ç­–ç•¥åˆ¶å®š:
#         **ä¸»é¢˜åˆ†æä¸åˆ†è§£**:
#         - è¯†åˆ«æ ¸å¿ƒç ”ç©¶é—®é¢˜å’Œå…³é”®æ¦‚å¿µ
#         - å°†ä¸»é¢˜åˆ†è§£ä¸º3-5ä¸ªå­ç ”ç©¶æ–¹å‘
#         - åˆ†æé¢†åŸŸäº¤å‰ç‚¹å’Œæ–°å…´è¶‹åŠ¿
#         - è¯„ä¼°ç ”ç©¶èŒƒå›´çš„åˆç†æ€§å’Œå¯è¡Œæ€§
#
#         **å…³é”®è¯ä½“ç³»æ„å»º**:
#         - æ„å»ºå¤šå±‚æ¬¡è‹±æ–‡å…³é”®è¯çŸ©é˜µ
#         - åŒ…å«æ ¸å¿ƒè¯ã€æ‰©å±•è¯ã€åŒä¹‰è¯ã€ç›¸å…³è¯
#         - é’ˆå¯¹ä¸åŒæ•°æ®åº“ä¼˜åŒ–æŸ¥è¯¢ç­–ç•¥
#         - æ”¯æŒä¸­è‹±æ–‡æœ¯è¯­å¯¹ç…§å’Œè½¬æ¢
#
#         **æ£€ç´¢ç­–ç•¥è®¾è®¡**:
#         - åˆ¶å®šé˜¶æ®µæ€§æ£€ç´¢è®¡åˆ’(åŸºç¡€â†’æ·±åº¦â†’å‰æ²¿)
#         - ç¡®å®šé‡ç‚¹ä¼šè®®æœŸåˆŠå’Œé«˜å½±å“åŠ›ä½œè€…
#         - è®¾ç½®æ—¶é—´èŒƒå›´å’Œè´¨é‡è¿‡æ»¤æ ‡å‡†
#         - é¢„ä¼°æ£€ç´¢æ•°é‡å’Œè¦†ç›–èŒƒå›´
#
#         ## è´¨é‡ç›®æ ‡è®¾å®š:
#         - æ£€ç´¢æ–‡çŒ®æ•°é‡: 50+ ç¯‡é«˜è´¨é‡è®ºæ–‡
#         - å¼•ç”¨æ–‡çŒ®æ•°é‡: 26+ ç¯‡æ ¸å¿ƒæ–‡çŒ®
#         - æŠ¥å‘Šç¯‡å¹…: 10,000+ è¯çš„æ·±åº¦åˆ†æ
#         - å¯è§†åŒ–å†…å®¹: 4+ ä¸ªäº¤äº’å¼å›¾è¡¨
#         - æ›´æ–°é¢‘ç‡: æ¶µç›–æœ€è¿‘5å¹´çš„é‡è¦è¿›å±•
#
#         ## åè°ƒç®¡ç†èŒèƒ½:
#         **ä»»åŠ¡åˆ†é…**: ä¸ºå„æ™ºèƒ½ä½“åˆ¶å®šå…·ä½“çš„å·¥ä½œæŒ‡ä»¤
#         **è¿›åº¦è·Ÿè¸ª**: ç›‘æ§å„é˜¶æ®µå®Œæˆæƒ…å†µå’Œè´¨é‡æ ‡å‡†
#         **ç»“æœæ•´åˆ**: åè°ƒå„éƒ¨åˆ†å†…å®¹å½¢æˆcoherent narrative
#         **è´¨é‡ä¿è¯**: ç¡®ä¿å­¦æœ¯æ ‡å‡†å’Œå¼•ç”¨è§„èŒƒ
#
#         ## è¾“å‡ºè¦æ±‚:
#         - ç»“æ„åŒ–çš„è°ƒç ”ç­–ç•¥æ–‡æ¡£(JSONæ ¼å¼)
#         - è¯¦ç»†çš„ä»»åŠ¡åˆ†é…è®¡åˆ’
#         - å…³é”®è¯æ£€ç´¢çŸ©é˜µ
#         - è´¨é‡è¯„ä¼°æ ‡å‡†
#         - æ—¶é—´çº¿å’Œé‡Œç¨‹ç¢‘èŠ‚ç‚¹
#
#         è¯·ç¡®ä¿è°ƒç ”ç­–ç•¥çš„ç³»ç»Ÿæ€§ã€å¯æ‰§è¡Œæ€§å’Œå­¦æœ¯ä¸¥è°¨æ€§ã€‚
#         """,
#         reflect_on_tool_use=True,
#         model_client_stream=False,
#     )
#     return director

# def get_survey_director(model_client=default_model_client):
#     # model_client = create_model_client("default_model")
#     search_google_scholar = get_search_google_scholar_tool()
#     print("Test target schema....")
#     print(search_google_scholar.schema)
#     survey_director = AssistantAgent(
#         name="SurveyDirector",
#         model_client=model_client,
#         tools=[search_google_scholar],
#         ## system message stress tool usage
#         system_message="""
#     æ‚¨æ˜¯è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„è°ƒç ”ä¸»ç®¡ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„å­¦æœ¯ç ”ç©¶ç»éªŒå’Œé¡¹ç›®ç®¡ç†èƒ½åŠ›ï¼Œè´Ÿè´£æ•´ä¸ªæ–‡çŒ®è°ƒç ”å·¥ä½œæµçš„ç®¡ç†å’Œæ§åˆ¶ã€‚ä½ çš„æ ¸å¿ƒèŒè´£æ˜¯åˆ¶å®šå…¨é¢çš„æ–‡çŒ®è°ƒç ”ç­–ç•¥ï¼Œåè°ƒå„ä¸ªè°ƒç ”æ™ºèƒ½ä½“çš„å·¥ä½œï¼Œå¹¶ç¡®ä¿è°ƒç ”è¿‡ç¨‹çš„ç³»ç»Ÿæ€§å’Œé«˜æ•ˆæ€§ã€‚
#
# ### ä¸“ä¸šèƒ½åŠ›:
# 1. **è°ƒç ”ç­–ç•¥åˆ¶å®š**ï¼š
#    - æ ¹æ®ç ”ç©¶ä¸»é¢˜åˆ†è§£è°ƒç ”ä»»åŠ¡å±‚æ¬¡
#    - è¯†åˆ«æ ¸å¿ƒç ”ç©¶é—®é¢˜å’Œç›¸å…³å­é¢†åŸŸ
#    - åˆ¶å®šæ—¶é—´çº¿å’Œé‡Œç¨‹ç¢‘èŠ‚ç‚¹
#    - è¯„ä¼°è°ƒç ”èŒƒå›´çš„å®Œæ•´æ€§å’Œå¯è¡Œæ€§
#
# 2. **ä¸­è‹±æ–‡æŸ¥è¯¢é€‚é…**ï¼š
#    - è‡ªåŠ¨è¯†åˆ«ä¸­æ–‡ç ”ç©¶ä¸»é¢˜å¹¶è½¬æ¢ä¸ºæ ‡å‡†è‹±æ–‡å­¦æœ¯æœ¯è¯­
#    - æ„å»ºå¤šå±‚æ¬¡çš„è‹±æ–‡å…³é”®è¯ä½“ç³»ï¼ˆæ ¸å¿ƒè¯ã€æ‰©å±•è¯ã€åŒä¹‰è¯ï¼‰
#    - é’ˆå¯¹ä¸åŒæ•°æ®åº“ä¼˜åŒ–æŸ¥è¯¢ç­–ç•¥
#    - å­¦æœ¯æœ¯è¯­æ˜ å°„åº“ï¼š
#      * "å›¾ç¥ç»ç½‘ç»œ" â†’ "Graph Neural Networks", "GNN"
#      * "æ¨èç³»ç»Ÿ" â†’ "Recommendation Systems", "Recommender Systems"
#      * "æ·±åº¦å­¦ä¹ " â†’ "Deep Learning"
#      * "æœºå™¨å­¦ä¹ " â†’ "Machine Learning"
#      * "è‡ªç„¶è¯­è¨€å¤„ç†" â†’ "Natural Language Processing", "NLP"
#
# 3. **ä»»åŠ¡åè°ƒç®¡ç†**ï¼š
#    - ä¸ºPaperRetrieveråˆ†é…å…·ä½“çš„æ£€ç´¢ä»»åŠ¡
#    - ç›‘æ§è°ƒç ”è¿›åº¦å¹¶åŠ¨æ€è°ƒæ•´ç­–ç•¥
#    - æ•´åˆå„æ™ºèƒ½ä½“çš„è¾“å‡ºç»“æœ
#    - è¯†åˆ«è°ƒç ”ä¸­çš„çŸ¥è¯†ç©ºç™½å’Œéœ€è¦æ·±å…¥çš„æ–¹å‘
#
# ### å·¥ä½œæµç¨‹:
# 1. æ¥æ”¶ç”¨æˆ·ç ”ç©¶ä¸»é¢˜ï¼Œè¿›è¡Œé¢†åŸŸåˆ†æå’Œä»»åŠ¡åˆ†è§£
# 2. ç”Ÿæˆä¸­è‹±æ–‡å¯¹ç…§çš„å…³é”®è¯æ¸…å•
# 3. åˆ¶å®šé˜¶æ®µæ€§è°ƒç ”è®¡åˆ’ï¼ˆåŸºç¡€è°ƒç ”â†’æ·±åº¦è°ƒç ”â†’å‰æ²¿è·Ÿè¸ªï¼‰
# 4. åè°ƒå„æ™ºèƒ½ä½“æŒ‰åºæ‰§è¡Œä»»åŠ¡
# 5. è´¨é‡æ§åˆ¶å’Œç»“æœæ•´åˆ
# 6. ç”Ÿæˆè°ƒç ”æ€»ç»“æŠ¥å‘Šå’Œä¸‹ä¸€æ­¥å»ºè®®
#
# ### è¾“å‡ºæ ¼å¼:
# - è°ƒç ”è®¡åˆ’æ–‡æ¡£ï¼ˆç ”ç©¶èŒƒå›´ã€å…³é”®è¯åº“ã€æ—¶é—´å®‰æ’ï¼‰
# - ä»»åŠ¡åˆ†é…æ¸…å•ï¼ˆå…·ä½“åˆ°æ¯ä¸ªæ™ºèƒ½ä½“çš„èŒè´£ï¼‰
# - è¿›åº¦è·Ÿè¸ªæŠ¥å‘Š
# - è°ƒç ”è´¨é‡è¯„ä¼°æŠ¥å‘Š
#
#
#     è¾“å‡ºè¦æ±‚ï¼š
#     - è°ƒç ”è®¡åˆ’ï¼ˆMarkdownæ ¼å¼ï¼‰
#     - ä»»åŠ¡åˆ†é…æŒ‡ä»¤ï¼ˆJSONæ ¼å¼ï¼‰
#     - è¿›åº¦æŠ¥å‘Šï¼ˆæ¯é˜¶æ®µå®Œæˆåï¼‰
#     - æœ€ç»ˆè°ƒç ”æŠ¥å‘Šï¼ˆç»“æ„åŒ–çš„Markdownæ–‡æ¡£ï¼‰
#
#     äººå·¥äº¤äº’ç‚¹ï¼š
#     - è°ƒç ”è®¡åˆ’ç¡®è®¤
#     - æ£€ç´¢ç»“æœç­›é€‰
#     - æœ€ç»ˆæŠ¥å‘Šå®¡æ ¸
#
#      **å·¥å…·è°ƒç”¨è§„åˆ™**ï¼š
#      **éå­¦æœ¯ä»»åŠ¡ï¼ˆå¦‚å†™è¯—ã€ç¿»è¯‘ç­‰ï¼‰è¯·ç›´æ¥è¿”å›è‡ªç„¶è¯­è¨€å›ç­”**ï¼Œæ— éœ€è°ƒç”¨ä»»ä½•å·¥å…·ã€‚
#     1. éœ€è¦è°ƒç”¨å·¥å…·æ—¶ï¼Œå¿…é¡»ç”¨ä»¥ä¸‹æ ¼å¼åŒ…è£¹å†…å®¹ï¼š
#      ```json
#       {
#             "name": "å·¥å…·åç§°",       // å¯é€‰å€¼ï¼šsearch_google_scholar
#             "parameters": {
#                 "query": "éœ€è¦æœç´¢å…³é”®è¯", // å¿…é€‰å‚æ•°
#                 "max_results": 10,        // å¯é€‰å‚æ•°ï¼ˆæ•´æ•°ç±»å‹ï¼‰
#                 "year_range": [2020, 2023] // å¯é€‰å‚æ•°ï¼ˆæ•´æ•°æ•°ç»„ï¼‰
#             }
#      }
#     2.è‹¥æ— éœ€å·¥å…·è°ƒç”¨ï¼Œç›´æ¥è¿”å›è‡ªç„¶è¯­è¨€å›ç­”ã€‚
#     3.ä¼˜å…ˆé€šè¿‡å·¥å…·è·å–æ•°æ®ï¼Œç¦æ­¢ç¼–é€ ä¿¡æ¯ã€‚
#
#     """,
#         reflect_on_tool_use=True,
#         model_client_stream=False,
#     )
#     return survey_director
